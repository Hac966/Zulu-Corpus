{% extends 'home.html' %}
{% load static %}

{% block title %} search_entry {% endblock title %}


{% block theCore %}
<h2>History</h2> <div class="hc"><a href="/addHistory/"> <button id="add-for-history" class="add-category-button" title="add new history" >+</button> </a></div>

<div id="boxy">
    <div id="fixer">
    {% for history in histories %}

        <div class="cover">
        <a href="{% url 'viewHistory' history.id %}" class="a1">
            <div class="div">
                <img src="{{history.picture.url}}" alt="Image">
            </div>

            <h1>{{history.heading}}</h1>
        </a>
        </div>

    {% endfor %}
    </div>
</div>
<button id="load-more-btn">Load More</button>

{% endblock theCore %}
{% block style %}
<style >
    .a1{
        text-decoration: none;
                display: flex;
        flex-wrap: wrap;
        }

    .div img{
        width: 100%;
        height: 100%;
        border-radius: 100%;

    }
    .div{

        height: 11em;
        width: 11em;
        border: 2px solid red;
        border-radius: 100%

    }
    #boxy{


    }

    #fixer{
        max-width: 56rem;
        display: flex;
        flex-wrap: wrap;
        gap: 2em;
        margin: auto;
        padding: 0 0% 0 5%;
        }


    .hc{
        margin-top: -5em;
        display: flex;
        justify-content: flex-end;

    }
    h2{
        color: blue;
        display: block;
    }

    h1{
        text-align: center;
        }

    .cover{
        border-left: 2px solid black;
        border-radius: 5.6em 5.6em 0.5em 0.5em;
        display: flex;
        flex-wrap: wrap;
        width: 11em;
        box-shadow: 2px 2px 5px black;
        overflow-wrap: break-word;
         transition: transform 0.3s ease; /* Makes the scaling smooth */
        transform: scale(1);
    }

.cover {
    display: none;
}
.cover:hover{
    transform: scale(1.1);
    }

.cover:nth-child(-n+8) {
    display: block;
}
</style>
{% endblock style %}

{% block script %}
<script src="{% static 'script.js' %}">
document.addEventListener('DOMContentLoaded', function() {
    const historyItems = document.querySelectorAll('.cover');
    const loadMoreBtn = document.getElementById('load-more-btn');
    const itemsToShow = 8;
    let currentlyShown = itemsToShow;

    loadMoreBtn.addEventListener('click', () => {
        for (let i = currentlyShown; i < currentlyShown + itemsToShow; i++) {
            if (historyItems[i]) {
                historyItems[i].style.display = 'block';
            }
        }
        currentlyShown += itemsToShow;

    });
});
</script>
{% endblock script %}